CPP = g++
LD  = g++
AR  = ar

COMP_FLAGS  = -std=c++11 -DDEBUG=0 
COMP_FLAGS += -I../../include
LINK_FLAGS  = -Wl,--allow-multiple-definition  -pthread -lgsl -lgslcblas

SG_DIR = /pica/h1/afshin/sg/superglue
DT_DIR = /pica/h1/afshin/Damavand/D4/DuctTeip/ResStudio/Prototype
DT_LIB = /pica/h1/afshin/Damavand/D3/ductteip/bin/Release/libductteip.a

SG_INC = $(SG_DIR)/include
DT_INC = $(DT_DIR)/include

SG_COMP_FLAG = -I$(SG_INC) 
DT_COMP_FLAG = -I$(DT_INC) 


all: bo 

clean:
	rm -f ./obj/* ./bin/non_utp_blas_only_rel*

#--------- BLAS_ONLY (BO) ---------

./obj/basic.o: ../../src/basic.cpp
	@$(info $(notdir $<) )
	@$(CPP) -o $@ -c $< $(COMP_FLAGS) -DBLAS_ONLY

./obj/cmdline.o: ../../src/cmdline.cpp
	@$(info $(notdir $<) )
	@$(CPP) -o $@ -c $< $(COMP_FLAGS) -DBLAS_ONLY

./obj/main_BLAS_ONLY.o: ./main_BLAS_ONLY.cpp
	@$(info $(notdir $<) )
	@$(CPP) -o $@ -c $< $(COMP_FLAGS) -DBLAS_ONLY

./bin/non_utp_blas_only_release: ./obj/main_BLAS_ONLY.o ./obj/basic.o ./obj/cmdline.o
	@$(LD) -o $@ ./obj/main_BLAS_ONLY.o ./obj/basic.o ./obj/cmdline.o $(LINK_FLAGS)

bo:./bin/non_utp_blas_only_release

